#ifndef _RECV_THREAD_B1284F11_ED16_4E75_92FE_DC20971829AC_
#define _RECV_THREAD_B1284F11_ED16_4E75_92FE_DC20971829AC_
#include <pthread.h>
#include "trade_consumer.h"

class recv_thread : public activemq_trade_consumer_callback
{
public:
	recv_thread();
	~recv_thread();
	/***************************************************************************************************************************/
	//初始化
	/***************************************************************************************************************************/
	bool init();
	/***************************************************************************************************************************/
	//销毁
	/***************************************************************************************************************************/
	void destory();
	/***************************************************************************************************************************/
	//接收到数据
	/***************************************************************************************************************************/
	virtual void on_recv(const std::string& request, std::string& response, const Message* message);

private:
	/***************************************************************************************************************************/
	//接收线程，从总线上接收数据，放入到消息缓冲池里面
	/***************************************************************************************************************************/
	//static void* recv_thread_func(void *param);

private:
	/***************************************************************************************************************************/
	//是否循环
	/***************************************************************************************************************************/
	//volatile bool _run;
	/***************************************************************************************************************************/
	//线程ID
	/***************************************************************************************************************************/
	//pthread_t _thread_id;
	/***************************************************************************************************************************/
	//线程ID
	/***************************************************************************************************************************/
	activemq_trade_consumer _consumer;
};

recv_thread& g_recv_thread();
#endif


